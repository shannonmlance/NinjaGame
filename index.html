<html>
<body>
	<div id="background" style="border:5px solid black; height:500px; width:540px; background-image: url('img/white_bg.jpg');">
        <div id="character" style="position:absolute; top:100px; left:250px; background-image: url('img/down1.png'); width:59px; height:86px;"></div>
    </div>
    <script type="text/javascript">
	    var leftValue = 250, topValue = 100, direction = "down", step = 1, background = "white";

    	function update() {
    		document.getElementById("character").style.left = leftValue+"px";
    		document.getElementById("character").style.top = topValue+"px";
			document.getElementById("character").style.backgroundImage = "url('img/"+direction+step+".png')";
			document.getElementById("background").style.backgroundImage = "url('img/"+background+"_bg.jpg')";
    	}

		function walk() {
			if(step == 1) {
				step = 2;
			}
			else {
				step = 1;
			}
		}

		function deadend() {
			if(leftValue == 20 || leftValue == 490 || topValue == 420 || topValue == 10) {
				background = "black";
			}
			else {
				background = "white";
			}
		}

    	document.onkeydown = function(e) {
    		console.log(e);
			// move left
			if(e.keyCode == 37 && leftValue > 20) {
				leftValue = leftValue - 10;
				direction = "left";
				walk();
			}
			// move right
			else if (e.keyCode == 39 && leftValue < 490) {
				leftValue = leftValue + 10;    
				direction = "right";
				walk();		
			}
			// move down
			else if (e.keyCode == 40 && topValue < 420) {
				topValue = topValue + 10;
				direction = "down";
				walk();
			}
			// move up
			else if (e.keyCode == 38 && topValue > 10) {
				topValue = topValue - 10;
				direction = "top";
				walk();
			}
			deadend();
    		update();
    	}
    </script>
</body>
</html>